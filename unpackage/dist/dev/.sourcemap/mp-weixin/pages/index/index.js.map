{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../../HBuilderX/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"homeLayout pageBg\">\r\n\t\t<custom-nav-bar></custom-nav-bar>\r\n\t\t<!-- 横向轮播图 -->\r\n\t\t<view class=\"banner\">\r\n\t\t\t<swiper indicator-dots=\"true\" indicator-color=\"rgba(255,255,255,0.5)\" \r\n\t\t\tindicator-active-color=\"#fff\"  circular interval=\"2000\">\r\n\t\t\t\t<swiper-item v-for=\"item in bannerList\" :key=\"item._id\">\r\n\t\t\t\t\t<navigator :url=\"`/pages/classlist/classlist?${item.url}`\" class=\"like\" v-if=\"item.target == 'self'\">\r\n\t\t\t\t\t\t<image :src=\"item.picurl\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t\t<navigator url=\"/pages/index/index\" class=\"like\" v-else>\r\n\t\t\t\t\t\t<image :src=\"item.picurl\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\t\t<!-- 纵向公告轮播 -->\r\n\t\t<view class=\"notice\">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<uni-icons type=\"sound-filled\" size=\"20\" color=\"#28b389\"></uni-icons>\r\n\t\t\t\t<text class=\"text\">公告</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"center\">\r\n\t\t\t\t<swiper vertical autoplay circular interval=\"1500\" duration=\"300\">\r\n\t\t\t\t\t<swiper-item v-for=\"item in newsList\" :key=\"item._id\">\r\n\t\t\t\t\t\t<navigator :url=\"`/pages/notice/detail?id=${item._id}`\">{{item.title}}</navigator>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right\">\r\n\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#333\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 每日推荐 -->\r\n\t\t<view class=\"select\">\r\n\t\t\t<!-- 标题部分 -->\r\n\t\t\t<common-title>\r\n\t\t\t\t<template #name>每日推荐</template>\r\n\t\t\t\t<template #custom>\r\n\t\t\t\t\t<view class=\"date\">\r\n\t\t\t\t\t\t<uni-icons type=\"calendar\" size=\"18\" color=\"#28b389\"></uni-icons>\r\n\t\t\t\t\t\t<uni-dateformat class=\"text\" :date=\"Date.now()\" format=\"dd日\"></uni-dateformat>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</common-title>\r\n\t\t\t<!-- 内容区域 -->\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<scroll-view scroll-x>\r\n\t\t\t\t\t<view class=\"box\" v-for=\"item in randomList\" :key=\"item._id\" @click=\"goPreview(item._id)\">\r\n\t\t\t\t\t\t<image :src=\"item.smallPicurl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 专题精选 -->\r\n\t\t<view class=\"theme\">\r\n\t\t\t<!-- 标题部分 -->\r\n\t\t\t<common-title>\r\n\t\t\t\t<template #name>专题精选</template>\r\n\t\t\t\t<template #custom>\r\n\t\t\t\t\t<navigator class=\"more\" url=\"/pages/classify/classify\" open-type=\"reLaunch\">More+</navigator>\r\n\t\t\t\t</template>\r\n\t\t\t</common-title>\r\n\t\t\t<!-- 内容区域 -->\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<theme-item v-for=\"item in classifyList\" :key=\"item._id\" :item=\"item\"></theme-item>\r\n\t\t\t\t<!-- 通过props来传递当前的项是不是 更多 这一项 -->\r\n\t\t\t\t<theme-item :isMore=\"true\"></theme-item>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\nimport { apiGetBanner,apiGetRandomWall,apiGetNewsList,apiClassifyList } from '@/api/apis.js'\r\nimport { ref,onMounted } from 'vue'\r\nimport { onShareAppMessage,onShareTimeline } from '@dcloudio/uni-app'\r\n// 存储页面轮播图的数据\r\nconst bannerList = ref([])\r\n// 存储随机壁纸的数据\r\nconst randomList = ref([])\r\n// 存储纵向轮播的数据\r\nconst newsList = ref([])\r\n// 推荐分类的数据\r\nconst classifyList = ref([])\r\n// 每日推荐区域图片跳转\r\nconst goPreview = (id) =>{\r\n\tuni.setStorageSync('picList',randomList.value)\r\n\tuni.navigateTo({\r\n\t\turl:`/pages/preview/preview?id=${id}`\r\n\t})\r\n}\r\n\r\n// 获取页面轮播图的数据\r\nconst getBanner = async() =>{\r\n\tlet result = await apiGetBanner()\r\n\tbannerList.value = result.data\r\n\tconsole.log(\"bannerList\",bannerList.value);\r\n}\r\n// 获取随机壁纸的数据\r\nconst getRandomWall = async() =>{\r\n\tlet result = await apiGetRandomWall()\r\n\trandomList.value = result.data\r\n}\r\n// 获取纵向轮播图的数据\r\nconst getNewsList = async(data) =>{\r\n\tlet result = await apiGetNewsList(data)\r\n\tnewsList.value = result.data\r\n\tconsole.log(\"newsList.value\",newsList.value);\r\n}\r\n// 获取推荐分类的列表数据\r\nconst getClassifyList = async(data) =>{\r\n\tlet result = await apiClassifyList(data)\r\n\tclassifyList.value = result.data\r\n\tconsole.log(classifyList.value);\r\n}\r\n// 在组件挂载后发送请求\r\nonMounted(()=>{\r\n\tgetBanner()\r\n\tgetRandomWall()\r\n\tgetNewsList({select:true})\r\n\tgetClassifyList({select:true})\r\n})\r\n\r\n// 分享给好友\r\nonShareAppMessage(()=>{\r\n\treturn {\r\n\t\ttitle:\"adiu\",\r\n\t\tpath:\"/pages/index/index\"\r\n\t}\r\n})\r\n// 分享到朋友圈\r\nonShareTimeline(()=>{\r\n\treturn {\r\n\t\ttitle:\"adiu\"\r\n\t}\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.homeLayout{\r\n\t.banner{\r\n\t\twidth:750rpx;\r\n\t\tpadding: 30rpx 0;\r\n\t\tswiper{\r\n\t\t\twidth: 750rpx;\r\n\t\t\theight: 340rpx;\r\n\t\t\tswiper-item{\r\n\t\t\t\tpadding: 0 30rpx;\r\n\t\t\t\t/* #ifdef H5 */\r\n\t\t\t\tpadding-left: 40rpx;\r\n\t\t\t\t/* #endif */\r\n\t\t\t\t.like{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\timage{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.notice{\r\n\t\twidth: 690rpx;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\tbackground-color: #f9f9f9;\r\n\t\tmargin: 0 auto;   // 上下水平居中\r\n\t\tborder-radius: 80rpx;\r\n\t\tdisplay: flex;\r\n\t\t.left{\r\n\t\t\twidth: 140rpx;\r\n\t\t\t// 下面三行用于控制上下水平居中\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\t.text{\r\n\t\t\t\tcolor: $brand-theme-color;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.center{\r\n\t\t\tflex:1;\r\n\t\t\tswiper{\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tcolor:#666;\r\n\t\t\t\tswiper-item{\r\n\t\t\t\t\t// 这三行用于控制文本溢出使用...来替代\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\ttext-overflow: ellipsis\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.right{\r\n\t\t\twidth: 70rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\t}\r\n\t.select{\r\n\t\t.date{\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\tcolor: $brand-theme-color;\r\n\t\t\t.text{\r\n\t\t\t\tmargin-left: 5rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\tpadding-top: 50rpx;\r\n\t\t.content{\r\n\t\t\twidth:720rpx;\r\n\t\t\tmargin-left: 30rpx;\r\n\t\t\tmargin-top: 30rpx;\r\n\t\t\tscroll-view{\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t.box{\r\n\t\t\t\t\twidth: 200rpx;\r\n\t\t\t\t\theight: 430rpx;\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tmargin-right: 15rpx;\r\n\t\t\t\t\timage{\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.box:last-child{\r\n\t\t\t\t\tmargin-right: 30rpx;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.theme{\r\n\t\tmargin-top: 50rpx;\r\n\t\tpadding-bottom: 50rpx;\r\n\t\t.more{\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #888;\r\n\t\t}\r\n\t\t.content{\r\n\t\t\tmargin-top: 30rpx;\r\n\t\t\tpadding: 0 30rpx;\r\n\t\t\tdisplay: grid;  // 开启网格布局\r\n\t\t\tgap:15rpx;    // 设置每个之间的间距\r\n\t\t\tgrid-template-columns: repeat(3,1fr);   // 设置每行分配3个,并且每个占比都是1fr   若是要设置不同的占比:grid-template-columns:1fr 2fr 1fr\r\n\t\t}\r\n\t}\r\n}\r\n</style>\n","import MiniProgramPage from 'D:/前端学习/前端项目/wallpaper/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","apiGetBanner","apiGetRandomWall","apiGetNewsList","apiClassifyList","onMounted","onShareAppMessage","onShareTimeline"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AA+EA,UAAA,aAAAA,cAAA,IAAA,EAAA;AAEA,UAAA,aAAAA,cAAA,IAAA,EAAA;AAEA,UAAA,WAAAA,cAAA,IAAA,EAAA;AAEA,UAAA,eAAAA,cAAA,IAAA,EAAA;AAEA,UAAA,YAAA,CAAA,OAAA;AACAC,oBAAAA,MAAA,eAAA,WAAA,WAAA,KAAA;AACAA,oBAAAA,MAAA,WAAA;AAAA,QACA,KAAA,6BAAA,EAAA;AAAA,MACA,CAAA;AAAA,IACA;AAGA,UAAA,YAAA,YAAA;AACA,UAAA,SAAA,MAAAC,sBAAA;AACA,iBAAA,QAAA,OAAA;AACAD,oBAAA,MAAA,MAAA,OAAA,+BAAA,cAAA,WAAA,KAAA;AAAA,IACA;AAEA,UAAA,gBAAA,YAAA;AACA,UAAA,SAAA,MAAAE,0BAAA;AACA,iBAAA,QAAA,OAAA;AAAA,IACA;AAEA,UAAA,cAAA,OAAA,SAAA;AACA,UAAA,SAAA,MAAAC,SAAA,eAAA,IAAA;AACA,eAAA,QAAA,OAAA;AACAH,oBAAA,MAAA,MAAA,OAAA,gCAAA,kBAAA,SAAA,KAAA;AAAA,IACA;AAEA,UAAA,kBAAA,OAAA,SAAA;AACA,UAAA,SAAA,MAAAI,SAAA,gBAAA,IAAA;AACA,mBAAA,QAAA,OAAA;AACAJ,oBAAA,MAAA,MAAA,OAAA,gCAAA,aAAA,KAAA;AAAA,IACA;AAEAK,kBAAAA,UAAA,MAAA;AACA,gBAAA;AACA,oBAAA;AACA,kBAAA,EAAA,QAAA,KAAA,CAAA;AACA,sBAAA,EAAA,QAAA,KAAA,CAAA;AAAA,IACA,CAAA;AAGAC,kBAAAA,kBAAA,MAAA;AACA,aAAA;AAAA,QACA,OAAA;AAAA,QACA,MAAA;AAAA,MACA;AAAA,IACA,CAAA;AAEAC,kBAAAA,gBAAA,MAAA;AACA,aAAA;AAAA,QACA,OAAA;AAAA,MACA;AAAA,IACA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxIA,GAAG,WAAW,eAAe;"}