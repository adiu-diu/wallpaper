{"version":3,"file":"request.js","sources":["utils/request.js"],"sourcesContent":["// 重新封装uni.request\r\nexport const request = (config={}) =>{\r\n\tlet BASE_URL = 'https://tea.qingnian8.com/api/bizhi'\r\n\t// 将传递的参数进行解构赋值\r\n\tlet {url,data={},method=\"GET\",header={}} = config\r\n\turl = BASE_URL + url\r\n\theader['access-key'] = 'adiu666'\r\n\treturn new Promise((resolve,reject)=>{\r\n\t\tuni.request({\r\n\t\t\turl:url,\r\n\t\t\tdata,\r\n\t\t\tmethod,\r\n\t\t\theader,\r\n\t\t\tsuccess:res=>{\r\n\t\t\t\tif(res.data.errCode === 0){\r\n\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t}else if(res.data.errCode === 400){\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle:\"错误提示\",\r\n\t\t\t\t\t\tcontent:res.data.errMsg,\r\n\t\t\t\t\t\tshowCancel:false\r\n\t\t\t\t\t})\r\n\t\t\t\t\treject(res.data)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:res.data.errMsg,\r\n\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\tres.reject(res.data)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail:err=>{\r\n\t\t\t\treject(err)\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n}"],"names":["uni"],"mappings":";;AACY,MAAC,UAAU,CAAC,SAAO,OAAM;AACpC,MAAI,WAAW;AAEf,MAAI,EAAC,KAAI,OAAK,CAAE,GAAC,SAAO,OAAM,SAAO,CAAE,EAAA,IAAI;AAC3C,QAAM,WAAW;AACjB,SAAO,YAAY,IAAI;AACvB,SAAO,IAAI,QAAQ,CAAC,SAAQ,WAAS;AACpCA,kBAAAA,MAAI,QAAQ;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,SAAQ,SAAK;AACZ,YAAG,IAAI,KAAK,YAAY,GAAE;AACzB,kBAAQ,IAAI,IAAI;AAAA,QAChB,WAAQ,IAAI,KAAK,YAAY,KAAI;AACjCA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM;AAAA,YACN,SAAQ,IAAI,KAAK;AAAA,YACjB,YAAW;AAAA,UACjB,CAAM;AACD,iBAAO,IAAI,IAAI;AAAA,QACpB,OAAS;AACJA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM,IAAI,KAAK;AAAA,YACf,MAAK;AAAA,UACX,CAAM;AACD,cAAI,OAAO,IAAI,IAAI;AAAA,QACnB;AAAA,MACD;AAAA,MACD,MAAK,SAAK;AACT,eAAO,GAAG;AAAA,MACV;AAAA,IACJ,CAAG;AAAA,EACH,CAAE;AACF;;"}